<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:p="http://primefaces.org/ui"
  xmlns:ui="http://java.sun.com/jsf/facelets"> 

<h:head>
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <h:outputStylesheet name="./css/style.css"/>
        
</h:head> 
<body> 
<div style="height: 100%">

<div id="header">
<h1>Bienvenido</h1>

</div>

<div id="nav">
<h1>



<p:spacer  height="10" />

<a href="HomeAdmin.xhtml" style='text-decoration:none'>Home</a>

<p:spacer width="200" height="10" />
<a href="agregarUsuario.xhtml" style='text-decoration:none'>Agregar usuario</a>

<p:spacer width="100" height="5" />
<a href="consultarUsuario.xhtml" style='text-decoration:none'>Consultar usuario </a>
<br></br><br></br>

<a href="AddDept.xhtml" style='text-decoration:none'>Agregar Depto </a>
<br></br><br></br>
<a href="AddCity.xhtml" style='text-decoration:none'>Agregar Ciudad </a>
<br></br><br></br>
<a href="AgregaProyecto.xhtml" style='text-decoration:none' >Agregar Proyecto </a>
<br></br><br></br>
<a href="ConsultaProyect.xhtml" style='text-decoration:none' >Consultar Proyecto </a>
<br></br><br></br>
<a href="Consultarciu.xhtml" style='text-decoration:none' >Consultar ciudad </a>
<br></br><br></br>
<a href="ConsultarDep.xhtml" style='text-decoration:none' >Consultar departamento </a>





</h1>

</div>
<div id = "sectionAdm" style="background-image: url(denti.jpg); height: 100%; width: 100%; background-size: cover;" >
          <br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br>        
    <br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br>        
    <br></br><br></br><br></br>        
          <h:form id="form">
           
       
            <p:panel  header="Consultar Ciudad " style="width: 360px; maring: 0 auto;  position: absolute; width: 470px;  left: 200px;top: 140px; margin: 0 0 0 80px;">
 <p:growl id="msgs" showDetail="true"/>
 
   <p:dataTable id="cars1" var="_ciudad" value="#{ciudadMBController.ciudadsList}" editable="true" style="margin-bottom:20px"
    emptyMessage="No hay registros disponibles">
      
 
       <p:ajax event="rowEdit" listener="#{ciudadMBController.modificarCiudad(_ciudad)}" update=":form:msgs" />
       <p:ajax event="rowEditCancel" listener="#{ciudadMBController.onRowCancel}" update=":form:msgs" />
 
       <p:column headerText="Nombres" filterBy="#{_ciudad.nombre}" filterMatchMode="startsWith">
           <p:cellEditor>
               <f:facet name="output"><h:outputText value="#{_ciudad.nombre}" /></f:facet>
               <f:facet name="input"><p:inputText id="modelInput" value="#{ciudadMBController.nombre}" style="width:100%" required="true" requiredMessage="Por favor ingrese un nombre" validatorMessage="ingrese solo letras y de 4 a 16 caracteres" >
               <f:validateRegex pattern="^[a-zA-Z]+$"  />
       			<f:validateLength minimum="4" maximum="16" />
            </p:inputText>
         
               
               </f:facet>
           </p:cellEditor>
       </p:column>
        <p:column headerText="Departamento">
              <p:cellEditor>
                  <f:facet name="output"><h:outputText value="#{_ciudad.depto}" /></f:facet>
                  <f:facet name="input">
                   <h:selectOneMenu id="txt2" value="#{ciudadMBController.departamento}"  required="true" requiredMessage="Seleccione Departamento">
                 	<f:selectItem   itemLabel="- Seleccione -" itemValue=""/>  	
                 	<f:selectItems value="#{departamentoMBController.getDepartamentosNombre()}" />           
	            </h:selectOneMenu>
               </f:facet>
              </p:cellEditor>
          </p:column>

 <p:column headerText="Estado">
           <p:cellEditor>
               <f:facet name="output"><h:outputText value="#{_ciudad.estado}" /></f:facet>
               <f:facet name="input"><p:inputText value="#{ciudadMBController.estado}" style="width:100%" label="Estado" required="true">
                <f:validateRegex pattern="(A|I)" />
       			<f:validateLength minimum="1" maximum="1" />
               
               </p:inputText>
               </f:facet>
               
               <p:messages showSummary="false" showDetails="true" />
           </p:cellEditor>
       </p:column>
      
 
       <p:column style="width:32px">
           <p:rowEditor />
       </p:column>
   </p:dataTable>
   
               <h:outputText value="Exportar" style="color: blue"></h:outputText>
 

			<h:commandLink>
				<h:graphicImage value="../image/xml.png" />
				<p:dataExporter type="xls" target="cars1"
					fileName="ciudadsList" pageOnly="true" />
			</h:commandLink>
 
            </p:panel>
            

 
        </h:form>

 

</div><div id="footer">
 
Copyright Â© W3Schools.com
</div>
</div>
</body> 
</html>
